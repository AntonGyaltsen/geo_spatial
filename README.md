# Проект Django с Docker и PostGIS

## Описание

Этот проект — веб-приложение на Django, использующее базу данных PostGIS
и контейнеризацию с помощью Docker. Проект предназначен для работы
с полигональными объектами, включая проверку пересечения антимеридиана
и валидацию данных на стороне сервера.
Ознакомиться с уже развернутым проектом можно по адресу:
https://infinite-inlet-50264-395f1ba24098.herokuapp.com/add-polygon/
Сохраненные полигоны доступны по адресу:
https://infinite-inlet-50264-395f1ba24098.herokuapp.com/saved-polygons/

## API

Присутствует 2 эндпоинта: api/polygons/ и api/polygon/<int:pk>/
Первый используется для добавления и вывода всех имеющихся полигонов.
Второй для отображения, удаления и обновления конкретного по id.
Проект снабжен API документацией с использованием Swagger:
https://infinite-inlet-50264-395f1ba24098.herokuapp.com/swagger-docs/
Проект включает в себя тесты для всех основных функций.

## Стек технологий

- **Django** — фреймворк для веб-приложений на Python.
- **Docker** — для контейнеризации приложения.
- **PostGIS** — расширение для PostgreSQL для работы с географическими данными.
- **Heroku** — для деплоя приложения.
- **DJ-Database-URL** — пакет для упрощённой работы с настройками баз данных.
- **Gunicorn** — в качестве wsgi-сервера.

## Установка

1. Склонируйте репозиторий:

```bash
git clone https://github.com/ваш-пользователь/ваш-репозиторий.git
```

2.	Перейдите в директорию проекта:

```
cd ваш-репозиторий
```
3.	Соберите и запустите контейнеры с помощью Docker:

```
docker-compose up --build
```
4. Запустите тесты:

```bash
docker compose exec main pytest
```

## Конфигурация

Перед запуском проекта убедитесь, что все переменные окружения настроены.
Для этого создайте файл .env в корне проекта, в котором укажите необходимые настройки, такие как:

* Параметры подключения к базе данных (PostGIS)
* Allowed hosts
* Настройки для Heroku и других используемых сервисов

## Основные функции

* 2 страницы — /add-polygon/ для добавления объекта и /saved-polygons/ для
просмотра всех добавленных.
* API для работы с полигональными объектами и их проверкой на пересечение
антимеридиана.
* Валидация полигонов на стороне сервера через методы формы Django.
* Поддержка Docker для упрощенной развертки.
* Интеграция с PostGIS для работы с географическими данными.

## Запуск на Heroku

Проект готов к деплою на платформу Heroku.
Используйте файл Dockerfile.prod для создания контейнера для production-среды.
